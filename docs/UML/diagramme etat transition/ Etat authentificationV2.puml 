@startuml
title état transition

state S1 as "l'utilisateur n'est pas connecter"{

  state S3 as "consultation de  l'ensemble\n des demandes"
  state S4 as "consultation une demande"
  [*] -> S3
  S3 --> S4 : <<signal>> clic sur une demande 
  S4 --> S3 : <<signal>> clic sur fermer
}

state S2 as "l'utilisateur est connecté" {

  state S5 as "consultation de l'ensemble\n des demandes"
  state S6 as "consultation d'une demande"
  state S7 as "création d'une demande"
  state S8 as "édition d'une demande"
  state S9 as "supretion d'une demande"
  state S10 as "réponse a une demande"

  [*] -> S5
  S5 --> S6 : <<signal>> clic sur une demande
  S6 --> S5 : <<signal>> clic sur fermer
  S5 --> S7 : <<signal>> clic sur une le bouton <<crée une demande>>
  S6 --> S8 : <<signal>> clic sur une le bouton <<éditer une demande>>[masterUser = requesteur]
  S6 --> S9 : <<signal>> clic sur une le bouton <<suprimer une demande>>[masterUser = requesteur]
  S6 --> S10 : <<signal>> clic sur une le bouton <<repondre a une demande>>[masterUser = requesteur or masterUser = helper]
  S9 --> S5 
  S7 --> S6 : <<signal>> clic sur une le bouton <<valider>>
  S6 --> S8 : <<signal>> clic sur une le bouton <<valider>>
  S10 --> S6 : <<signal>> clic sur une le bouton <<valider>>
 
}


[*] --> S1
S1  --> S2 : s'authentifier
S2  --> S1 : se deconnecter
S1  --> [*]
S2  --> [*]
@enduml